---
name: AI Coder Task (General)
about: Define a specific, incremental coding task suitable for an AI Coder agent.
title: 'test: OpenAI adapter tests and resilience policies'
labels: 'status: ready, type: epic-task, priority: medium, effort: medium, component: testing, automation: ci-ready, tech: dotnet, epic: language-model-service-v2'
assignees: ''

---

## 1. Overall Goal / User Story Context

Harden OpenAI adapter with robust unit/integration tests and resilience behaviors (retry/backoff honoring Retry-After).

## 2. Requirements (Mandatory Expectations)

- Unit tests for mapping and error handling
- Integration smoke test (with `OPENAI_API_KEY`)
- Retry/backoff config for rate limits with jitter

## 3. Specific Task Objective

Create tests and resilience hooks to validate adapter reliability and basic performance baseline (p95 target recorded).

## 4. Acceptance Criteria

- [ ] Unit tests cover mapping and failure modes
- [ ] Integration smoke passes in CI with secrets
- [ ] Retry/backoff verified in tests (mocked timing OK)

## 5. Affected Components

- `Code/Zarichney.Server.Tests/Services/AI/Providers/OpenAI/*`
- `Code/Zarichney.Server/Services/AI/Providers/OpenAI/*`
- `Docs/Specs/epic-246-language-model-service/04-testing-strategy.md`

## 6. Relevant Background / Links

- Docs/Specs/epic-246-language-model-service/04-testing-strategy.md

---
*Generated by Planning Assistant*

