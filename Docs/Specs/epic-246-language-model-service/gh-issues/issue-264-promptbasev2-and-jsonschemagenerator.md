---
name: AI Coder Task (General)
about: Define a specific, incremental coding task suitable for an AI Coder agent.
title: 'feat: PromptBaseV2 and JsonSchemaGenerator'
labels: 'status: ready, type: epic-task, priority: high, effort: large, component: api, architecture, tech: dotnet, epic: language-model-service-v2'
assignees: ''

---

## 1. Overall Goal / User Story Context

Introduce PromptBaseV2 with attribute-driven schema generation and provider-agnostic function definitions.

## 2. Requirements (Mandatory Expectations)

- Implement `PromptBaseV2`, `IPrompt`, `IFunctionDefinition`
- Implement `JsonSchemaGenerator` with caching and attribute support
- System.Text.Json compatible serialization

## 3. Specific Task Objective

Add base + generator with comprehensive unit tests for common model constructs.

## 4. Acceptance Criteria

- [ ] PromptBaseV2 and schema generator compile and pass unit tests
- [ ] Attributes like required/description honored in schema
- [ ] Caching verified in tests

## 5. Affected Components

- `Code/Zarichney.Server/Cookbook/Prompts/*`
- `Code/Zarichney.Server/Services/AI/Prompts/*`
- `Code/Zarichney.Server.Tests/Services/AI/Prompts/*`
- `Docs/Specs/epic-246-language-model-service/components/prompt-base-v2.md`

## 6. Relevant Background / Links

- Docs/Specs/epic-246-language-model-service/components/prompt-base-v2.md

---
*Generated by Planning Assistant*

