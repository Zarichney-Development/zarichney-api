---
name: AI Coder Task (General)
about: Define a specific, incremental coding task suitable for an AI Coder agent.
title: 'refactor: adapter bases and exception hierarchy'
labels: 'status: ready, type: epic-task, priority: high, effort: medium, component: api, architecture, tech: dotnet, epic: language-model-service-v2'
assignees: ''

---

## 1. Overall Goal / User Story Context

Introduce base classes for SDK and REST providers, and a unified provider exception hierarchy to standardize error handling across providers.

## 2. Requirements (Mandatory Expectations)

- Add `SdkProviderAdapterBase` and ensure `RestProviderAdapterBase` matches spec patterns
- Add provider exceptions: `ProviderException`, `ProviderUnavailableException`, `RateLimitExceededException`, `ProviderAuthenticationException`, `ProviderValidationException`, `ProviderTimeoutException`
- No provider-specific code inside base classes

## 3. Specific Task Objective

Implement bases and exceptions, add basic convenience hooks (metrics/logging hooks, optional streaming placeholders), and document the mapping guidelines.

## 4. Acceptance Criteria

- [ ] Bases compile and are referenced by provider adapter stubs
- [ ] Exception hierarchy implemented with XML docs
- [ ] Unit tests validate base behaviors (e.g., argument checks, virtual method paths)
- [ ] No SDK/HTTP logic inside bases

## 5. Affected Components

- `Code/Zarichney.Server/Services/AI/Providers/*`
- `Code/Zarichney.Server.Tests/Services/AI/Providers/*`
- `Docs/Specs/epic-246-language-model-service/01-architecture-design.md`
- `Docs/Specs/epic-246-language-model-service/components/provider-adapters.md`

## 6. Relevant Background / Links

- Docs/Specs/epic-246-language-model-service/components/provider-adapters.md

---
*Generated by Planning Assistant*

